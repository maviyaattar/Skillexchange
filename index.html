<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SkillExchange</title>

<style>
body{
  font-family:system-ui;
  background:#0e1020;
  color:#fff;
  margin:0;
}
header{
  background:#151832;
  padding:14px;
  text-align:center;
  font-weight:600;
}
main{padding:16px}
button{
  padding:10px 14px;
  border:none;
  border-radius:10px;
  background:#6c7cff;
  color:#000;
  font-weight:600;
}
</style>
</head>

<body>

<header>
  SkillExchange
</header>

<main>
  <p>Welcome, <span id="userEmail"></span></p>
  <button onclick="logout()">Logout</button>
</main>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
import {
  getAuth,
  onAuthStateChanged,
  signOut
} from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";

/* SAME CONFIG */
const firebaseConfig = {
  apiKey: "AIzaSyBt5enDVu9T_WVP3iJw_eOBc9dKrLME_Xo",
  authDomain: "skillexchange-706.firebaseapp.com",
  projectId: "skillexchange-706",
  storageBucket: "skillexchange-706.firebasestorage.app",
  messagingSenderId: "853922656544",
  appId: "1:853922656544:web:90a547a7a09a771b9ce745"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

/* ðŸ” AUTH GUARD */
onAuthStateChanged(auth,user=>{
  if(!user){
    location.href="auth.html";
  }else{
    document.getElementById("userEmail").innerText = user.email;
  }
});

window.logout = function(){
  signOut(auth).then(()=>{
    location.href="auth.html";
  });
};
</script>

</body>
</html>
